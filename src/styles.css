@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    html {
        font-size: 16px;
    }

    body {
        @apply bg-background dark:bg-background-dark border-t-8 border-t-accent dark:!border-t-accent-dark transition-colors duration-500;
    }

    .width-control {
        @apply max-w-[40em];
    }

    .text {
        @apply text-text dark:text-text-dark font-sans tabular-nums transition-colors duration-500;
    }

    .link {
        @apply underline text-accent dark:text-accent-dark;
    }

    .button {
        @apply text-lg no-underline py-[.2rem] px-2 border-2 text-accent dark:text-accent-dark border-accent dark:border-accent-dark rounded-md hover:text-background hover:dark:text-background-dark hover:bg-accent hover:dark:bg-accent-dark transition-colors;
    }

    .navbarLink {
        @apply link sm:ml-1 sm:px-2 no-underline;
    }

    .secondary {
        @apply text-secondary dark:text-secondary-dark;
    }

    .pageTitle {
        @apply text-lg pt-2 font-bold sm:pt-4 sm:text-2xl;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    a {
        @apply text;
    }

    h2,
    h3,
    h4,
    h5,
    h6 {
        @apply leading-5 my-2 font-bold text-headings dark:text-headings-dark;
    }

    h1 {
        @apply text-headings dark:text-headings-dark;
    }

    h2 {
        @apply text-xl;
    }

    h3 {
        @apply text-lg;
    }

    h4 {
        @apply text-lg;
    }

    .content > p {
        @apply my-4 leading-[1.6rem] sm:leading-6 sm:my-3;
    }

    .content > h2,
    .content > h3,
    .content > h4,
    .content > h5,
    .content > h6 {
        @apply mt-9;
    }

    p > a {
        @apply link;
    }

    em {
        @apply italic text;
    }

    ul,
    ol {
        @apply my-1 mx-8 text;
    }

    ol {
        @apply list-decimal;
    }

    li {
        @apply mx-1.5 my-3;
    }

    code {
        @apply my-1 font-bold table-fixed overflow-x-scroll !border-0;
    }

    pre {
        @apply flex-1 table-fixed !border-0;
        max-width: calc(100vw - 2em);
        text-shadow: none;
    }

    :not(pre) > code[class*='language-'] {
        @apply text font-normal inline-block italic !mt-0.5 !mb-0 !pr-2 !pl-1.5 !pt-0.5 !pb-1 !overflow-x-auto !overflow-y-hidden !align-top !leading-4 !shadow-none !bg-code dark:!bg-code-dark !text-code-text dark:!text-code-textDark sm:!pt-1 sm:!mt-0;
        max-width: calc(100vw - 2rem);
        text-shadow: none;
    }

    .gatsby-highlight {
        @apply mb-4;
    }

    .gatsby-highlight pre {
        @apply !border-b-0;
    }

    .gatsby-highlight code {
        @apply mb-4;
    }

    table {
        table-layout: fixed;
        width: 100%;
        margin: 0.5rem auto;
        padding: 0;
        border: 1px solid #444;
        border-collapse: collapse;
    }

    table > tr {
        background-color: $data-background-light;
        border: 1px solid $border-light;
        padding: 0.25em;
    }

    table > thead {
        text-transform: uppercase;
    }

    table > th,
    table > td {
        padding: 0.5em;
        text-align: center;
    }

    table > th {
        font-weight: bold;
    }

    blockquote {
        @apply bg-tag flex flex-col dark:bg-tag-dark border-l-4 border-l-accent dark:border-l-accent-dark;
        margin: 0.5rem 0 1.5rem;
        padding: 0.75em 1.25em;
    }

    blockquote > p {
        @apply text italic font-bold;
    }

    blockquote cite {
        @apply flex text mt-1 before:content-['-'] before:mr-1;
    }

    img {
        @apply block max-w-full h-auto my-4 mx-auto rounded;
        margin-block-end: 1em;
    }

    .header-link-icon {
        @apply mt-9 h-5 flex items-center;
    }
}
